"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7146],{33186:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(59499),o=n(4730);n(67294);var i=n(27603),l=n(43848),a=n(85893);let s=e=>{let{stock:t,count:n,disableAdd:r,max_show_stock_text:o,min_show_stock_text:s}=e,{t:c}=(0,l.$G)();return 0===t&&n>0?(0,a.jsx)(i.Text,{as:"span",margin:"3px 0 0 26px",weight:"normal",align:"center",scale:"caption",colorName:"carbon",colorWeight:"light",children:c("out-of-stock")}):!r&&(t??0)<o&&(t??0)>s?(0,a.jsx)(i.Text,{as:"span",margin:"3px 0 0 0",weight:"normal",scale:"caption",colorName:"carbon",colorWeight:"light",children:c("remaining-stock-number",{stock:t})}):null};var c=n(84120),d=n(95395);let u=(0,c.default)(i.FlexBox).withConfig({displayName:"Buttonsstyles__Counter",componentId:"sc-1ysvht6-0"})(["min-height:",";>{&:nth-child(2){width:",";text-align:center;}Button{min-width:",";}}"],(0,d.rem)(37),e=>{let{theme:t}=e;return t.spacing[6]},e=>{let{theme:t}=e;return t.spacing[4]}),p=(0,c.default)(i.Button).withConfig({displayName:"Buttonsstyles__StockButton",componentId:"sc-1ysvht6-1"})(["&:disabled svg{fill:var(--sf-inactive-dark);}"]),m=(0,c.default)(i.Button).withConfig({displayName:"Buttonsstyles__AddButton",componentId:"sc-1ysvht6-2"})(["height:",";font-weight:",";font-size:",";line-height:",";"],(0,d.rem)(37),e=>{let{theme:t}=e;return t.weight.normal},(0,d.rem)(14),(0,d.rem)(20)),h=e=>{let{count:t,round:n,onClickAdd:r,onClickRemove:o,hovered:s,disableAdd:c}=e,{t:d}=(0,l.$G)();return t>0?(0,a.jsxs)(u,{alignItems:"center",justify:"center",children:[(0,a.jsx)(i.Button,{float:1!==t,type:"button",round:n,size:"body",appearance:1===t?"naked":"outline",colorName:1===t?"carbon":"accent",onClick:o,children:1===t?(0,a.jsx)(i.RemoveIcon,{role:"button"}):(0,a.jsx)(i.MinusIcon,{fill:"var(--sf-accent-main)",width:10,height:10})}),(0,a.jsx)(i.Text,{scale:"body",weight:"bold",as:"span",children:t}),(0,a.jsx)(p,{float:!0,type:"button",round:n,disabled:c,size:"body",appearance:s?"solid":"outline",onClick:r,children:(0,a.jsx)(i.PlusIcon,{fill:s?"var(--sf-surface-light)":"var(--sf-accent-main)",width:10,height:10})})]}):(0,a.jsx)(m,{float:!0,appearance:s?"solid":"outline",onClick:r,disabled:c,children:d("add")})},g=(0,c.default)(i.FlexBox).withConfig({displayName:"indexstyles__AddRemoveWrapper",componentId:"sc-1f5wecv-0"})(["margin-top:",";"],e=>{let{hasStock:t}=e;return t?(0,d.rem)(12):0}),f=["showStockLimit"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let v=e=>{let{showStockLimit:t=!0}=e,n=(0,o.Z)(e,f);return(0,a.jsxs)(g,{direction:"column",alignItems:"center",hasStock:(n.stock??0)<10&&(n.stock??0)>0,children:[(0,a.jsx)(h,b({},n)),t&&(0,a.jsx)(s,b({max_show_stock_text:10,min_show_stock_text:0},n))]})};var y=v},44960:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(67294),o=n(27603),i=n(84120),l=n(95395),a=n(43848),s=n(85893);let c=(0,i.default)(o.Text).withConfig({displayName:"Countdown__CountDownText",componentId:"sc-moel8f-0"})(["{color:",";}"],e=>{let{mainColor:t,colorName:n}=e;return t||n}),d=(0,i.default)(o.FlexBox).withConfig({displayName:"Countdown__Container",componentId:"sc-moel8f-1"})([">{*{filter:",";fill:",";> *{width:",";text-align:center;&:nth-child(2n){width:",";}}&:first-child{min-width:",";margin-left:",";padding-top:",";}}}"],e=>{let{hasShadow:t}=e;return t?"drop-shadow(0px 1px 0px rgba(0, 0, 0, 0.24))":"unset"},e=>{let{theme:t,colorName:n,colorWeight:r}=e;return t[n][r]},e=>{let{theme:t}=e;return t.spacing[3]},e=>{let{theme:t}=e;return t.spacing[1]},(0,l.rem)(42),(0,l.rem)(6),(0,l.rem)(2)),u=(0,i.default)(o.Text).withConfig({displayName:"Countdown__PeriodTitle",componentId:"sc-moel8f-2"})(["margin-left:",";"],(0,l.rem)(5)),p=e=>{let{title:t,counterConfig:n,scale:i="large",colorName:l="carbon",colorWeight:p="main",hasShadow:m=!1,mainColor:h}=e,{t:g}=(0,a.$G)(),{seconds:f,minutes:x,hours:b}=function(e){let{expiry:t,onExpire:n}=e||{},{0:o,1:i}=(0,r.useState)(0),{0:l,1:a}=(0,r.useState)(0),{0:s,1:c}=(0,r.useState)(0),d=(0,r.useRef)(null);function u(){d.current&&(clearInterval(d.current),d.current=null),i(0),a(0),c(0)}function p(){let e=new Date().getTime(),r=t-e,o=Math.floor(r%6e4/1e3);o<0?(u(),n()):(i(o),a(Math.floor(r%36e5/6e4)),c(Math.floor(r%864e5/36e5)))}let m=e=>(function(e){let t=String(e);for(;t.length<2;)t="0"+t;return t})(e);return(0,r.useEffect)(()=>(d.current||(p(),d.current=window.setInterval(()=>p(),1e3)),u),[t]),{seconds:m(o),minutes:m(l),hours:m(s)}}({expiry:n.deliveredAt,onExpire:n.onExpire});if("00"===f&&"00"===x&&"00"===b||"NaN"===f||"NaN"===x||"NaN"===b)return null;let v=n.newEstimate?"accent2":l,y=n.newEstimate?"main":p;return(0,s.jsxs)(o.FlexBox,{direction:"column",justify:"center",alignItems:"center",children:[n.newEstimate&&(0,s.jsx)(o.Text,{scale:"caption",colorWeight:"light",children:g("order:followOrder.new_estimate")}),(0,s.jsxs)(d,{alignItems:"center",justify:"center",newEstimate:n.newEstimate,colorName:v,colorWeight:y,hasShadow:m,mainColor:h,children:[Boolean(t)&&(0,s.jsx)(u,{scale:"body",colorName:v,weight:"bold",as:"span",children:t}),(0,s.jsxs)(o.FlexBox,{justify:"center",children:[(0,s.jsx)(c,{scale:i,colorName:v,colorWeight:y,weight:"bold",as:"span",mainColor:h,children:(0,o.toPersian)(f)}),(0,s.jsx)(c,{scale:i,colorName:v,colorWeight:y,weight:"bold",as:"span",mainColor:h,children:":"}),(0,s.jsx)(c,{scale:i,colorName:v,colorWeight:y,weight:"bold",as:"span",mainColor:h,children:(0,o.toPersian)(x)}),"00"!==b&&(0,s.jsx)(c,{scale:i,colorName:v,colorWeight:y,weight:"bold",as:"span",mainColor:h,children:":"}),"00"!==b&&(0,s.jsx)(c,{scale:i,colorName:v,colorWeight:y,weight:"bold",as:"span",mainColor:h,children:(0,o.toPersian)(b)})]}),(0,s.jsx)(o.TimeIcon,{fill:v})]})]})};var m=p},2117:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(59499),o=n(67294),i=n(84120),l=n(27603),a=n(43848),s=n(86773),c=n(7442),d=n(95395),u=n(21339);function p(e,t){return 1===e&&1===t}var m=n(85893);let h=i.default.section.withConfig({displayName:"ToppingGroup__Layout",componentId:"sc-3e737r-0"})(["margin-bottom:1rem;padding:1.25rem 1rem 1.125rem 1.125rem;border:"," solid ",";border-radius:4px;&:last-child{margin-bottom:0;}"],(0,d.rem)(1),e=>{let{theme:t,isActive:n}=e;return n?t.alert.main:t.carbon.alphaMedium}),g=i.default.div.withConfig({displayName:"ToppingGroup__TitleBar",componentId:"sc-3e737r-1"})(["margin-bottom:0.5rem;p{padding-left:0.5rem;}"]),f=i.default.section.withConfig({displayName:"ToppingGroup__ToppingItem",componentId:"sc-3e737r-2"})(["border-bottom:"," solid ",";label{width:100%;}&:last-child{border-bottom:0;}"],(0,d.rem)(1),e=>{let{theme:t}=e;return t.carbon.alphaLight}),x=(0,i.default)(l.FlexBox).withConfig({displayName:"ToppingGroup__ToppingItemLabel",componentId:"sc-3e737r-3"})(["width:calc(100% - 1rem);height:3rem;cursor:pointer;p{margin:0;}"]),b=e=>{let{id:t,title:n,maxCount:r,minCount:i,toppings:s,isActive:d}=e,{activeToppings:b,setContextState:v}=(0,o.useContext)(c.HS),{0:y,1:w}=(0,o.useState)([]),{showToast:j}=(0,u.pm)(),{t:C}=(0,a.$G)();return(0,m.jsxs)(h,{id:`toppings-group-${t}`,isActive:d,children:[(0,m.jsxs)(g,{children:[(0,m.jsx)(l.Text,{scale:"caption",weight:"bold",colorName:d?"alert":"carbon",colorWeight:"light",children:n}),!!i&&(0,m.jsx)(l.Text,{scale:"caption",weight:"normal",colorName:d?"alert":"carbon",colorWeight:"light",children:C("topping.min-count-select",{text:i.toString()})})]}),s.map(e=>(0,m.jsx)(f,{children:(0,m.jsx)(l.Checkbox,{checked:y.includes(e.id),name:"address",onChange:()=>(function(e){if(y.includes(e.id))!p(i,r)&&(w(t=>t.filter(t=>t!==e.id)),v({activeToppings:b.filter(t=>t.id!==e.id)}));else{var t,o,l;let a=[...b];if(p(i,r))null===(o=a=null===(t=a)||void 0===t?void 0:t.filter(e=>!(null!=y&&y.includes(null==e?void 0:e.id))))||void 0===o||o.push(e),w([e.id]);else{if(y.length>=r){j({status:"alert",right:80,message:C("topping.max-count-error",{text:n,score:null==r?void 0:r.toString()})});return}null===(l=a)||void 0===l||l.push(e),w(t=>[...t,e.id])}v({activeToppings:a})}})(e),round:p(i,r),children:(0,m.jsxs)(x,{justify:"space-between",alignItems:"center",children:[(0,m.jsxs)(l.FlexBox,{direction:"column",children:[(0,m.jsx)(l.Text,{scale:"body",weight:"normal",margin:"0 0 5px 0",children:e.title}),e.description&&(0,m.jsx)(l.Text,{scale:"body",as:"span",colorName:"carbon",colorWeight:"light",children:e.description})]}),(0,m.jsx)(l.Price,{value:e.price})]})})},e.id))]})};var v=n(77455),y=n(18e3),w=n(28664);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let _=(0,i.default)(l.Modal).withConfig({displayName:"ToppingModal__ModalContainer",componentId:"sc-1xl96pa-0"})(["width:",";"],(0,d.rem)(480)),O=i.default.section.withConfig({displayName:"ToppingModal__Header",componentId:"sc-1xl96pa-1"})(["padding:0 1rem 1rem;div:first-child{margin-bottom:0.5rem;}"]),N=i.default.section.withConfig({displayName:"ToppingModal__Body",componentId:"sc-1xl96pa-2"})(["max-height:50vh;padding:1rem;overflow-y:auto;"]),T=(0,i.default)(l.FlexBox).withConfig({displayName:"ToppingModal__Footer",componentId:"sc-1xl96pa-3"})(["padding:",";button{height:3rem;}"],(0,d.rem)(12)),D=e=>{var t,n;let{handleRudderStackAddProduct:r=()=>{}}=e,{0:i,1:d}=(0,o.useState)(0),{t:u}=(0,a.$G)(),{activeProduct:p,isToppingModalOpen:h,activeToppings:g=[],setContextState:f}=(0,o.useContext)(c.HS),x=(0,o.useRef)(null),{handleProductAction:j}=(0,v.LQ)(null==p?void 0:p.id),D=()=>{f({isToppingModalOpen:!1}),d(0)},I=p?p.price-p.discount+(null==g?void 0:g.reduce((e,t)=>e+((null==t?void 0:t.price)??0),0)):0;return(0,m.jsxs)(_,{isOpen:h,onClose:D,animation:"slideDown",backdropColor:"var(--modal-backdrop)",children:[(0,m.jsx)(s.x,{title:"",onClose:D}),(0,m.jsxs)(O,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(l.Text,{scale:"xlarge",weight:"bold",colorName:"carbon",colorWeight:"light",children:u("topping.select-topping")})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.Text,{scale:"body",weight:"normal",colorName:"carbon",colorWeight:"light",children:null==p?void 0:p.title})})]}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();let t=function(e,t){var n;let r=null==e?void 0:e.productToppings.filter(e=>(null==e?void 0:e.minCount)>0),o=t.map(e=>e.id);return r?r.filter(e=>{var t;return(null===(t=e.toppings)||void 0===t?void 0:t.filter(e=>o.includes(e.id)).length)<e.minCount}):[]}(p,g);if(t.length){let n=t[0],o=document.getElementById(`toppings-group-${n.id}`);null==o||o.scrollIntoView({behavior:"smooth",block:"start"}),d(n.id)}else j(C(C({},p),{},{toppings:g}),y.o3.ADD),r(p,w.D.PRODUCT_ADDED_VENDOR),d(0),D()},children:[(0,m.jsx)(N,{ref:x,children:(0,m.jsx)("div",{children:null==p?void 0:p.productToppings.map(e=>(0,m.jsx)(b,{id:e.id,title:e.title,minCount:e.minCount,maxCount:e.maxCount,toppings:e.toppings,isActive:i===e.id},e.id))})}),(0,m.jsx)(T,{children:(0,m.jsxs)(l.Button,{block:!0,type:"submit",appearance:"solid",colorName:"accent",disabled:!1,children:[(0,m.jsx)(l.Text,{scale:"default",weight:"bold",colorName:"surface",padding:"0 0 0 0.5rem",children:u("topping.add-to-basket")}),(0,m.jsx)(l.Price,{value:I,weight:"normal",colorName:"surface",labelColor:"surface"})]})})]})]})};var I=D},33689:function(e,t,n){n(67294);var r=n(84120),o=n(43848),i=n(27603),l=n(95395),a=n(18e3),s=n(19093),c=n(68713),d=n(6804),u=n(85893);let p=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__Container",componentId:"sc-1k0s5ty-0"})(["box-sizing:border-box;padding:",";border-bottom:"," solid ",";"],e=>{let{theme:t}=e;return t.spacing[2]},(0,l.rem)(1),e=>{let{theme:t}=e;return t.carbon.alphaMedium}),m=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__CommentInfo",componentId:"sc-1k0s5ty-1"})(["flex-shrink:0;width:",";margin-left:",";> *{margin-top:",";&:last-child{width:",";padding:"," ",";text-align:center;border:"," solid ",";border-radius:",";}}"],(0,l.rem)(160),e=>{let{theme:t}=e;return t.spacing[2]},(0,l.rem)(6),e=>{let{theme:t}=e;return t.spacing[4]},(0,l.rem)(2),(0,l.rem)(6),(0,l.rem)(1),e=>{let{theme:t}=e;return t.surface.dark},(0,l.rem)(4)),h=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__CommentContent",componentId:"sc-1k0s5ty-2"})(["margin-left:",";> *{&:first-child{margin-bottom:",";}}"],e=>{let{theme:t}=e;return t.spacing[2]},(0,l.rem)(12)),g=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__CommentTags",componentId:"sc-1k0s5ty-3"})(["> *{margin-bottom:",";margin-left:",";}"],e=>{let{theme:t}=e;return t.spacing[1]},e=>{let{theme:t}=e;return t.spacing[1]}),f=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__Tag",componentId:"sc-1k0s5ty-4"})(["height:",";padding:"," ",";font-size:",";background-color:",";border-radius:",";"],(0,l.rem)(20),(0,l.rem)(4),(0,l.rem)(6),e=>{let{theme:t}=e;return t.scales.tiny},e=>{let{theme:t}=e;return t.surface.dark},(0,l.rem)(6)),x=(0,r.default)(i.FlexBox).withConfig({displayName:"Item__Reply",componentId:"sc-1k0s5ty-5"})(["margin-top:",";padding:",";border:"," solid ",";border-radius:",";>{&:first-child{margin-bottom:",";}}"],e=>{let{theme:t}=e;return t.spacing[2]},e=>{let{theme:t}=e;return t.spacing[1]},(0,l.rem)(1),e=>{let{theme:t}=e;return t.carbon.alphaMedium},e=>{let{theme:t}=e;return t.spacing[1]},e=>{let{theme:t}=e;return t.spacing[1]}),b=(0,r.default)(i.Text).withConfig({displayName:"Item__Rate",componentId:"sc-1k0s5ty-6"})(["visibility:",";> svg{margin-left:",";vertical-align:middle;}"],e=>{let{visible:t}=e;return t?"initial":"hidden"},(0,l.rem)(2.5)),v=e=>{var t,n;let{comment:r,vendorType:l=""}=e,{t:a}=(0,o.$G)();return(0,u.jsxs)(p,{children:[(0,u.jsxs)(m,{direction:"column",children:[(0,u.jsx)(i.Text,{ellipsis:!0,scale:"body",weight:"bold",children:r.sender}),(0,u.jsx)(i.Text,{scale:"body",children:s.H.localizeDate(r.date)}),(0,u.jsxs)(b,{scale:"body",visible:Boolean(r.rate&&r.rate/2>1),children:[(0,u.jsx)(i.StarIcon,{}),r.rate/2]})]}),(0,u.jsxs)(h,{direction:"column",alignItems:"flex-start",justify:"center",children:[(0,u.jsx)(i.Text,{scale:"body",children:r.commentText}),r.deliveryComment?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.Text,{scale:"caption",colorName:"carbon",colorWeight:"light",children:[a("comments.delivery-reply"),":"]}),(0,u.jsx)(i.Text,{scale:"body",margin:"8px 0 12px 0",children:r.deliveryComment})]}):null,Boolean(null===(t=r.foods)||void 0===t?void 0:t.length)&&(0,u.jsx)(g,{wrap:"wrap",children:null===(n=r.foods)||void 0===n?void 0:n.map((e,t)=>(0,u.jsx)(f,{alignItems:"center",justify:"center",children:(0,u.jsx)(i.Text,{scale:"tiny",colorName:"carbon",children:e.title})},e.title+t))}),r.replies.map(e=>(0,u.jsxs)(x,{direction:"column",justify:"center",children:[(0,u.jsxs)(i.Text,{scale:"caption",colorName:"accent",weight:"bold",children:[a("comments.reply")," ",y(e.source,l)]}),(0,u.jsx)(i.Text,{scale:"caption",children:e.commentText})]},(0,d.Z)()))]})]})},y=(e,t)=>{switch(e){case a.z8.VENDOR:return`${c.Z.t("admin")} ${t||c.Z.t("restaurant")}`;case a.z8.ZOODFOOD:return c.Z.t("snappfood");case a.z8.USER:return c.Z.t("user");case a.z8.EXPRESS:return c.Z.t("express")}};t.Z=v},28664:function(e,t,n){var r;n.d(t,{D:function(){return o}});let o;(r=o||(o={})).PRODUCT_REMOVED_SUPERMARKET="product removed supermarket",r.PRODUCT_VIEWED_SUPERMARKET="product viewed supermarket",r.PRODUCT_ADDED_SUPERMARKET="product added supermarket",r.PRODUCT_CATEGORY_CLICKED="product category clicked",r.INFO_AND_COMMENTS_MENU="info and comments menu",r.PRODUCT_REMOVED_VENDOR="product removed vendor",r.PRODUCT_VIEWED_VENDOR="product viewed vendor",r.PRODUCT_ADDED_VENDOR="product added vendor",r.VENDOR_VIEWED="vendor viewed"},38327:function(e,t,n){n.d(t,{F:function(){return i}});var r=n(65714),o=n(98859);class i{constructor(e){this.product=e}isStuckOver(e){let{product:t}=this;return"number"==typeof t.stock&&t.stock-(e||0)<1}isDisabledUntil(){return this.product.disabledUntil}isCapacityOver(e){let{product:t}=this;return t.capacity>-1&&t.capacity-(e||0)<1}isDisableProduct(e,t,n){let{product:i}=this,l=this.isDisabledUntil()||this.isStuckOver(t)||n===r.vD.OUTOFSCOPE||n===r.vD.CLOSED&&e===o.MQ.Off;return i.isSpecial||(l=l||this.isCapacityOver(t)),l}calculateRemaining(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{product:t}=this,n={max:0,remaining:0,colorName:"carbon",progressColor:"inactive",progressColorWeight:"dark"};if(t.stock){let r=t.stock-e,o=t.stock;r<=3?(n.colorName="alert",n.progressColor="alert",n.progressColorWeight="light"):(n.colorName="carbon",n.progressColor="inactive",n.progressColorWeight="dark"),n.remaining=r,n.max=o}return n}}},54538:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:130;return e.length>t?e.slice(0,t).padEnd(t+3,"..."):e}}}]);